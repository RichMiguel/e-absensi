<%- include('partials/navbar') %>

<div class="min-h-screen w-auto bg-slate-200 pt-24 px-16">
  <div class="bg-white w-full rounded-lg shadow-md p-6">
    <h1 class="text-2xl font-bold mb-4">
      <%= jadwal ? "Edit Jadwal" : "Tambah Jadwal" %>
    </h1>

    <form 
      action="<%= jadwal ? `/dashboard/jadwal/edit/${jadwal.id}` : '/dashboard/jadwal/add' %>" 
      method="POST" 
      class="space-y-4"
    >
      <div>
        <label class="block font-semibold">Nama Jadwal</label>
        <input 
          type="text" 
          name="nama" 
          class="border rounded w-full p-2" 
          required
          value="<%= jadwal ? jadwal.nama : '' %>"
        >
      </div>

      <div>
        <label class="block font-semibold">Hari</label>
        <select name="hari" class="border rounded w-full p-2" required>
          <% const hariList = ["SENIN", "SELASA", "RABU", "KAMIS", "JUMAT", "SABTU", "MINGGU"]; %>
          <% hariList.forEach(h => { %>
            <option 
              value="<%= h %>" 
              <%= jadwal && jadwal.hari === h ? 'selected' : '' %>>
              <%= h.charAt(0) + h.slice(1).toLowerCase() %>
            </option>
          <% }) %>
        </select>
      </div>

      <div>
        <label class="block font-semibold">Tanggal</label>
        <input 
          type="date" 
          name="tanggal" 
          class="border rounded w-full p-2" 
          required
          value="<%= jadwal ? jadwal.tanggal.toISOString().split('T')[0] : '' %>"
        >
      </div>

      <div>
        <label class="block font-semibold">Jam Masuk</label>
        <input 
          type="time" 
          name="jam_masuk" 
          class="border rounded w-full p-2" 
          required
          value="<%= jadwal ? jadwal.jam_masuk : '' %>"
        >
      </div>

      <div class="flex items-center gap-3">
        <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded">
          <%= jadwal ? "Perbarui" : "Simpan" %>
        </button>
        <a href="/dashboard/jadwal" class="text-gray-600">Batal</a>
      </div>
    </form>
  </div>
</div>
